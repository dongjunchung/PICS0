{
    "collab_server" : "",
    "contents" : "#' @title pathway selection using LASSO\n#'\n#' @description  LASSO step for pathway selection. To identify patient subgroups based on pathway level risk profile, we fit a LASSO-Penalized Cox regression on scores derived from all the pathways.\n#'\n#' @param object results of selectGene step\n#' @param seed random seed that was set,  default = 123.\n#'\n#' @import stats glmnet foreach\n#' @export\n#' @docType methods\n#' @rdname selectPath-methods\n#' @aliases selectPath\n#' @aliases selectPath,FitGene-method\n#'\n#' @examples\n#' data(TCGA)\n#' train.list=prefilter( data=TCGA$geneexpr, time=TCGA$t, status=TCGA$d, plist=TCGA$pathList )\n#' gene.results=selectGene( object=train.list, fold=5, K=5, etas=c(0.1,0.9),seed=123)\n#' path.results=selectPath( object=gene.results, seed=123)\n\nsetMethod(\n  f=\"selectPath\",\n  signature=\"FitGene\",\n  definition=function( object, seed=123){\n\n    time=object@inputdata$time\n    status=object@inputdata$status\n    pathways=object@inputdata$pathway\n    score=object@score\n\n    xx=foreach(j=1:length(score), .combine='cbind')%do%{score[[j]]}\n\n    set.seed(seed)\n    cvlas=cv.glmnet( x=as.matrix(xx),y=Surv(time, status),\n                     family=\"cox\",type.measure=\"deviance\",alpha=1)\n\n    cols=sapply(score,ncol)\n    ##this lambda should also be optional\n    path.beta=as.vector(coef(cvlas,s=cvlas$lambda.1se))\n    path.beta=data.frame( rep(pathways,cols), path.beta,\n      stringsAsFactors=FALSE )\n\n    new( \"FitPath\",\n      pathAll=pathways,\n      pathSelected=path.beta[which(path.beta[,2]>0),1],\n      coef=path.beta,\n      fitGene=object\n    )\n  }\n)\n",
    "created" : 1488241407121.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3860354623",
    "id" : "20A8F4D4",
    "lastKnownWriteTime" : 1488241422,
    "last_content_update" : 1488241422907,
    "path" : "C:/Users/sunze/Desktop/package_0209/package0227/PICS/R/selectPath.R",
    "project_path" : "R/selectPath.R",
    "properties" : {
    },
    "relative_order" : 8,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}